<div
  class="flex flex-col justify-center max-w-[2050px] mx-10 px-4 sm:px-6 lg:px-0"
>
  <div class="flex flex-col lg:flex-row gap-6 lg:gap-8">
    <!-- Sidebar en desktop -->
    <aside class="hidden xl:block max-h-full mb-5">
      <app-sidebar-filter
        (filtersChange)="onFiltersChange($event)"
      ></app-sidebar-filter>
    </aside>

    <div class="w-full">
      <app-welcome></app-welcome>
      <app-products-grid
        [products]="allProducts"
        [searchTerm]="(searchTerm$ | async) || ''"
        [filters]="sidebarFilters"
      ></app-products-grid>
    </div>
  </div>

  <!-- Overlay de filtros en mÃ³vil -->
  <div
    *ngIf="isSidebarOpen"
    class="fixed inset-0 z-50 bg-black/40"
    (click)="closeSidebar()"
  >
    <div
      class="absolute right-0 top-0 h-full w-4/5 max-w-sm bg-white shadow-2xl p-4 overflow-y-auto"
      (click)="$event.stopPropagation()"
    >
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold text-primary">Filtros</h3>
        <button
          type="button"
          class="text-sm font-semibold text-primary hover:text-[#001b3a]"
          (click)="closeSidebar()"
        >
          Cerrar
        </button>
      </div>
      <app-sidebar-filter
        (filtersChange)="onFiltersChange($event)"
      ></app-sidebar-filter>
    </div>
  </div>
</div>
<app-billetes></app-billetes>

<app-ultimos-productos marginLeft="48"></app-ultimos-productos>
