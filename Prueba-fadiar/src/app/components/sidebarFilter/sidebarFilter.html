<aside class="w-78 max-w-xs space-y-4 text-primary">
  <!-- CATEGORÍAS -->
  <section class="rounded-3xl px-5 py-4 bg-relleno border border-deafuera">
    <header
      class="flex items-center justify-between cursor-pointer"
      (click)="toggleSection('categories')"
    >
      <h3 class="text-[16px] font-semibold">Categorías</h3>

      <!-- chevron -->
      <svg
        width="13"
        height="8"
        viewBox="0 0 13 8"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.4328 8L6.47735 3.05533L1.52188 8L-0.000387059 6.47773L6.47735 -5.66301e-07L12.9551 6.47773L11.4328 8Z"
          fill="#022954"
        />
      </svg>
    </header>

    @if (sectionsOpen.categories) {
    <div class="mt-3 space-y-2 pr-1">
      @for (cat of categories; track cat.id) {
      <label
        class="flex items-center gap-2 text-[16px] text-text-muted cursor-pointer"
      >
        <input
          type="checkbox"
          class="h-5 w-5 rounded border border-slate-300 accent-primary"
          [checked]="isCategoryChecked(cat.id)"
          (change)="onToggleCategory(cat.id)"
        />
        <span>{{ cat.label }}</span>
      </label>
      }
    </div>
    }
  </section>

  <!-- PRECIO -->
  <section class="rounded-3xl bg-relleno border border-deafuera px-5 py-4">
    <header
      class="flex items-center justify-between cursor-pointer"
      (click)="toggleSection('price')"
    >
      <h3 class="text-[16px] font-semibold">Precio</h3>
      <svg
        width="13"
        height="8"
        viewBox="0 0 13 8"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.4328 8L6.47735 3.05533L1.52188 8L-0.000387059 6.47773L6.47735 -5.66301e-07L12.9551 6.47773L11.4328 8Z"
          fill="#022954"
        />
      </svg>
    </header>

    @if (sectionsOpen.price) {
    <div class="mt-4 space-y-3">
      <!-- “slider” simple con dos rangos -->
      <div class="flex flex-col gap-2">
        <input
          type="range"
          min="0"
          max="200"
          (change)="onPriceChange()"
          class="w-full text-primary"
        />

        <div class="flex justify-between text-[12px] text-slate-500">
          <span class="text-primary">0</span>
          <span class="text-primary">200</span>
        </div>
      </div>

      <!-- cajas de min / max -->
      <div class="flex items-center gap-3 text-[13px]">
        <div class="flex flex-col gap-1">
          <div
            class="min-w-20 h-9 px-3 flex items-center rounded-xl bg-white border border-slate-200 text-sm"
          >
            <span class="text-[#808080]">Mín.</span>

            <input
              type="number"
              (change)="onPriceChange()"
              class="w-full outline-none bg-transparent text-right"
            />
          </div>
        </div>
        <span class="text-slate-400"
          ><svg
            width="8"
            height="2"
            viewBox="0 0 8 2"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M0 0.75H8" stroke="#818181" stroke-width="1.5" />
          </svg>
        </span>
        <div class="flex flex-col gap-1">
          <div
            class="min-w-20 h-9 px-3 flex items-center rounded-xl bg-white border border-slate-200 text-sm"
          >
            <span class="text-[#808080]">Máx.</span>
            <input
              type="number"
              (change)="onPriceChange()"
              class="w-full outline-none bg-transparent text-right"
            />
          </div>
        </div>
      </div>
    </div>
    }
  </section>

  <!-- MARCAS -->
  <section class="rounded-3xl bg-relleno border border-deafuera px-5 py-4">
    <header
      class="flex items-center justify-between cursor-pointer"
      (click)="toggleSection('brands')"
    >
      <h3 class="text-[16px] font-semibold">Marcas</h3>
      <svg
        width="13"
        height="8"
        viewBox="0 0 13 8"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.4328 8L6.47735 3.05533L1.52188 8L-0.000387059 6.47773L6.47735 -5.66301e-07L12.9551 6.47773L11.4328 8Z"
          fill="#022954"
        />
      </svg>
    </header>

    @if (sectionsOpen.brands) {
    <div class="mt-3 space-y-2 max-h-[250px] overflow-y-auto pr-1">
      @for (brand of brands; track brand.id) {
      <label
        class="flex items-center gap-2 text-[16px] text-text-muted cursor-pointer"
      >
        <input
          type="checkbox"
          class="h-4 w-4 rounded border border-slate-300 accent-primary"
          [checked]="isBrandChecked(brand.id)"
          (change)="onToggleBrand(brand.id)"
        />
        <span>{{ brand.label }}</span>
      </label>
      }
    </div>
    }
  </section>

  <!-- RELEVANTES -->
  <section class="rounded-3xl bg-relleno border border-deafuera px-5 py-4">
    <header
      class="flex items-center justify-between cursor-pointer"
      (click)="toggleSection('relevant')"
    >
      <h3 class="text-[16px] font-semibold">Relevantes</h3>
      <svg
        width="13"
        height="8"
        viewBox="0 0 13 8"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.4328 8L6.47735 3.05533L1.52188 8L-0.000387059 6.47773L6.47735 -5.66301e-07L12.9551 6.47773L11.4328 8Z"
          fill="#022954"
        />
      </svg>
    </header>

    @if (sectionsOpen.relevant) {
    <div class="mt-3 space-y-2 text-[16px] text-text-muted">
      @for (opt of relevantOptions; track opt.id) {
      <label class="flex items-center gap-2 cursor-pointer">
        <input
          type="radio"
          name="relevant"
          class="h-4 w-4 accent-primary"
          [checked]="selectedRelevant === opt.id"
          (change)="onRelevantChange(opt.id)"
        />
        <span>{{ opt.label }}</span>
      </label>
      }
    </div>
    }
  </section>
</aside>
